# üéØ Feedback Sentiment Analyzer

> **‚ö†Ô∏è Note:** This README was generated with AI assistance.

**Author:** [Caua Sarraf](https://github.com/CauaOdM)

A comprehensive customer feedback management system that leverages AI to analyze sentiment and provide actionable insights for service quality improvement.

---

## üìã Table of Contents

- [Overview](#overview)
- [Features](#features)
- [Tech Stack](#tech-stack)
- [Project Structure](#project-structure)
- [Backend Setup](#backend-setup)
- [Frontend Setup](#frontend-setup)
- [Environment Variables](#environment-variables)
- [API Documentation](#api-documentation)
- [Security Considerations](#security-considerations)
- [Learning Resources](#learning-resources)
- [License](#license)

---

## üéì Overview

This project is an **intermediate-level full-stack application** designed to help businesses:

- Collect and store customer feedback
- Automatically analyze sentiment (Positive, Negative, Neutral) using AI
- Identify critical feedback requiring immediate action
- Generate automated response suggestions for negative feedback
- Visualize feedback trends through an intuitive dashboard

**Learning Goals:**
- Master TypeScript, NestJS, and Next.js
- Implement secure CRUD operations with PostgreSQL
- Integrate LangChain for AI-powered sentiment analysis
- Apply security best practices (DTOs, validation, sanitization)

---

## ‚ú® Features

### Core Functionality
- ‚úÖ **CRUD Operations** for customer feedback
- ‚úÖ **AI-Powered Sentiment Analysis** (via LangChain + Gemini)
- ‚úÖ **Automated Action Flagging** for negative feedback
- ‚úÖ **Response Suggestions** generated by AI
- ‚úÖ **RESTful API** with comprehensive validation

### Security Features
- üîí **DTO Validation** using class-validator
- üîí **Input Sanitization** to prevent injection attacks
- üîí **Read-only sentiment field** (cannot be manipulated by users)
- üîí **Environment variable protection**

---

## üõ†Ô∏è Tech Stack

### Backend
- **Runtime:** Node.js (v18+)
- **Framework:** NestJS (v10)
- **Language:** TypeScript (v5)
- **Database:** PostgreSQL (v15)
- **ORM:** TypeORM
- **AI/ML:** LangChain + Gemini API
- **Validation:** class-validator, class-transformer

### Frontend
- **Framework:** Next.js (v14)
- **Language:** TypeScript
- **Styling:** TailwindCSS
- **State Management:** React Hooks
- **HTTP Client:** Fetch API / Axios

### DevOps
- **Containerization:** Docker + Docker Compose
- **Database Management:** pgAdmin (optional)

---

## üìÅ Project Structure

```
Feedback-Sentiment-Analyzer/
‚îú‚îÄ‚îÄ backend/               # NestJS API
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ feedbacks/    # Feedback module (CRUD + AI)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database/     # TypeORM configuration
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/       # DTOs, pipes, guards
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.ts       # Application entry point
‚îÇ   ‚îú‚îÄ‚îÄ .env              # Environment variables
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ tsconfig.json
‚îÇ
‚îú‚îÄ‚îÄ frontend/             # Next.js Dashboard (Coming Soon)
‚îÇ   ‚îî‚îÄ‚îÄ ...               # To be implemented
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml    # PostgreSQL container
‚îî‚îÄ‚îÄ README.md
```

---

## üöÄ Backend Setup

### Prerequisites
- **Node.js** v18+ ([Download](https://nodejs.org/))
- **Docker Desktop** ([Download](https://www.docker.com/products/docker-desktop))
- **OpenAI API Key** ([Get Key](https://platform.openai.com/api-keys))

### Step-by-Step Installation

#### 1. Clone the Repository
```bash
git clone https://github.com/YOUR_USERNAME/Feedback-Sentiment-Analyzer.git
cd Feedback-Sentiment-Analyzer
```

#### 2. Start PostgreSQL Database
```bash
docker-compose up -d
```

**What this does:**
- Starts a PostgreSQL 15 container
- Creates database: `feedback_db`
- User: `admin` / Password: `adminpassword`
- Exposed on port: `5432`

#### 3. Configure Backend Environment
```bash
cd backend
cp .env.example .env
```

Edit `.env` and add your AI API key:
```env
DB_HOST=localhost
DB_PORT=5432
DB_USERNAME=admin
DB_PASSWORD=adminpassword
DB_NAME=feedback_db

OPEN_API_KEY=sk-your-actual-openai-key-here

PORT=3001
NODE_ENV=development
```

#### 4. Install Dependencies
```bash
npm install
```

#### 5. Run Database Migrations (if applicable)
```bash
npm run migration:run
```

#### 6. Start Development Server
```bash
npm run start:dev
```

Backend will run on: **http://localhost:3001**

---

## üé® Frontend Setup

> **üöß Coming Soon**
> 
> The Next.js dashboard will be implemented next and will include:
> - Interactive feedback dashboard
> - Color-coded sentiment visualization (green = positive, red = negative)
> - AI-generated response suggestions
> - Responsive design with TailwindCSS
>
> **Stay tuned for updates!**

---

## üîê Environment Variables

### Backend (.env)

| Variable | Description | Example |
|----------|-------------|---------|
| `DB_HOST` | PostgreSQL host | `localhost` |
| `DB_PORT` | PostgreSQL port | `5432` |
| `DB_USERNAME` | Database user | `admin` |
| `DB_PASSWORD` | Database password | `adminpassword` |
| `DB_NAME` | Database name | `feedback_db` |
| `OPENAI_API_KEY` | OpenAI API key | `sk-...` |
| `PORT` | Backend server port | `3001` |
| `NODE_ENV` | Environment | `development` |

---

## üì° API Documentation

### Base URL
```
http://localhost:3001
```

### Endpoints

#### **GET /feedbacks**
Retrieve all feedbacks.

**Response:**
```json
[
  {
    "id": 1,
    "customer_name": "John Doe",
    "message": "Great service!",
    "sentiment": "Positive",
    "action_required": false,
    "suggested_response": null,
    "created_at": "2025-12-31T10:00:00Z"
  }
]
```

#### **POST /feedbacks**
Create a new feedback (AI automatically analyzes sentiment).

**Request Body:**
```json
{
  "customer_name": "Jane Smith",
  "message": "The product arrived damaged and customer service was unhelpful."
}
```

**Response:**
```json
{
  "id": 2,
  "customer_name": "Jane Smith",
  "message": "The product arrived damaged...",
  "sentiment": "Negative",
  "action_required": true,
  "suggested_response": "We sincerely apologize for the damaged product...",
  "created_at": "2025-12-31T10:15:00Z"
}
```

#### **GET /feedbacks/:id**
Retrieve a specific feedback by ID.

#### **PATCH /feedbacks/:id**
Update a feedback (sentiment cannot be changed manually).

#### **DELETE /feedbacks/:id**
Delete a feedback.

---

## üîí Security Considerations

### DTO Validation
All incoming data is validated using **class-validator**:

```typescript
// CreateFeedbackDto
export class CreateFeedbackDto {
  @IsString()
  @IsNotEmpty()
  @MaxLength(100)
  customer_name: string;

  @IsString()
  @IsNotEmpty()
  @MaxLength(1000)
  message: string;
}
```

### Read-Only Sentiment Field
The `sentiment`, `action_required`, and `suggested_response` fields are **never accepted from user input** - they are computed server-side by the AI.

### SQL Injection Prevention
TypeORM parameterizes all queries automatically, preventing SQL injection attacks.

### Environment Variable Protection
Sensitive data (API keys, database credentials) are stored in `.env` and never committed to Git.

---

## üìÑ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## üìû Contact

**Author:** [Cau√£ Sarraf](https://github.com/CauaOdM)

**Project Repository:** [Feedback-Sentiment-Analyzer](https://github.com/CauaOdMS/Feedback-Sentiment-Analyzer)

---

‚≠ê **If you found this project helpful, please consider giving it a star!**
